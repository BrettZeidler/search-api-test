(this["webpackJsonpsearch-api-test"]=this["webpackJsonpsearch-api-test"]||[]).push([[0],{171:function(e,n,t){},172:function(e,n,t){},173:function(e,n,t){},184:function(e,n){},186:function(e,n){},197:function(e,n){},199:function(e,n){},226:function(e,n){},228:function(e,n){},229:function(e,n){},234:function(e,n){},236:function(e,n){},242:function(e,n){},244:function(e,n){},263:function(e,n){},275:function(e,n){},278:function(e,n){},305:function(e,n,t){"use strict";t.r(n);var a,r,s,o=t(1),i=t.n(o),c=t(160),l=t.n(c),u=(t(171),t(172),t(173),t(60)),d=t(61),h=t(66),j=t(65),b=t(161),v=t(166),f=t(101),x=t(53),g=t(24),O=t(3),p=function(e){Object(h.a)(t,e);var n=Object(j.a)(t);function t(e){var a;return Object(u.a)(this,t),(a=n.call(this,e)).onChange=function(e){a.setState({searchText:e.target.value}),a.props.onChange(e)},a.state={searchText:""},a}return Object(d.a)(t,[{key:"render",value:function(){return Object(O.jsxs)(b.a,{className:"App-header",children:[Object(O.jsx)(g.a,{children:Object(O.jsx)("h1",{children:"Search GitHub Users"})}),Object(O.jsx)(g.a,{children:Object(O.jsxs)(f.a,{className:"mb-3",children:[Object(O.jsx)(v.a,{className:"SearchInput-dark","aria-label":"Search users","aria-describedby":"Search users",value:this.state.value,placeholder:"Search users",onChange:this.onChange,onKeyDown:this.props.onKeyDown},"userSearchBar"),Object(O.jsx)(f.a.Append,{children:Object(O.jsx)(x.a,{className:"SearchButton-dark",variant:"outline-light",onClick:this.props.onClick,children:"Search"})})]})})]})}}]),t}(i.a.Component),C=t(97),m=t(164),P=t(100),N=t(163),S=t(317),y=t(318),U=t(319),w=t(320),k=t(321),A=t(322),z=t(331),I=t(330),F=t(67),K=t(328),Q=Object(K.a)(a||(a=Object(F.a)(["\n    fragment UserFields on User {\n        avatarUrl\n        bio\n        id\n        location\n        login\n        name\n        url\n        websiteUrl\n        followers {\n            totalCount\n        }\n        following {\n            totalCount\n        }\n        starredRepositories {\n            totalCount\n        }\n    }\n"]))),R=Object(K.a)(r||(r=Object(F.a)(["\n    ","\n    query($searchQuery:String!, $after:String) {\n        search(query: $searchQuery, after: $after, type: USER, first: 10) {\n            pageInfo {\n                endCursor\n                startCursor\n                hasNextPage\n                hasPreviousPage\n            }\n            userCount\n            edges {\n                node {\n                    ...UserFields\n                }\n            }\n        }\n    }\n"])),Q),$=Object(K.a)(s||(s=Object(F.a)(["\n    ","\n    query($searchQuery:String!, $before:String) {\n        search(query: $searchQuery, before: $before, type: USER, last: 10) {\n            pageInfo {\n                endCursor\n                startCursor\n                hasNextPage\n                hasPreviousPage\n            }\n            userCount\n            edges {\n                node {\n                    ...UserFields\n                }\n            }\n        }\n    }\n"])),Q);var E=function(e){var n=e.hasNextPage,t=e.hasPreviousPage,a=e.onNextPage,r=e.onPreviousPage;return Object(O.jsxs)("div",{className:"Pagination-buttons",children:[t?Object(O.jsx)(x.a,{className:"Pagination-button",onClick:r,children:Object(O.jsx)(k.a,{size:24})}):Object(O.jsx)(O.Fragment,{}),n?Object(O.jsx)(x.a,{className:"Pagination-button",onClick:a,children:Object(O.jsx)(A.a,{size:24})}):Object(O.jsx)(O.Fragment,{})]})},q=function(e){var n,t,a,r,s,o,i,c=e.searchQuery,l=e.after,u=e.before,d=e.onNextPage,h=e.onPreviousPage,j=Object(I.a)(null===u?R:$,{variables:{searchQuery:c,after:l,before:u}}),b=j.loading,v=j.error,f=j.data;if(b)return Object(O.jsx)(N.a,{className:"Spinner-custom",animation:"border"});if(v)return Object(O.jsx)("p",{children:v});var x=f.search.edges,p=null!==(n=f.search.userCount)&&void 0!==n?n:0,k=null!==(t=null===(a=f.search.pageInfo)||void 0===a?void 0:a.hasNextPage)&&void 0!==t&&t,A=null!==(r=null===(s=f.search.pageInfo)||void 0===s?void 0:s.hasPreviousPage)&&void 0!==r&&r,F=null===(o=f.search.pageInfo)||void 0===o?void 0:o.startCursor,K=null===(i=f.search.pageInfo)||void 0===i?void 0:i.endCursor;return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:Object(O.jsx)("h3",{className:"App-paragraph",children:""===c?"Enter a query to search over 70 million users":Object(O.jsxs)(O.Fragment,{children:["Found ",p," result",1===p?"":"s"," for '",c,"'"]})})}),Object(O.jsx)(P.a,{children:x.map((function(e){var n,t,a,r,s,o,i,c,l,u=e.node;return Object(O.jsx)(P.a.Item,{className:"User-Results",children:Object(O.jsxs)(g.a,{children:[Object(O.jsx)(C.a,{xs:"auto",children:Object(O.jsx)(m.a,{width:128,height:128,src:null===u||void 0===u?void 0:u.avatarUrl,roundedCircle:!0})}),Object(O.jsxs)(C.a,{children:[Object(O.jsxs)(g.a,{xs:"auto",children:[Object(O.jsx)("a",{className:"User-link",href:null===u||void 0===u?void 0:u.url,children:null!==(t=null===u||void 0===u?void 0:u.name)&&void 0!==t?t:"--"})," \xb7 ",null!==(a=null===u||void 0===u?void 0:u.login)&&void 0!==a?a:"--"]}),Object(O.jsx)(g.a,{children:null===u||void 0===u?void 0:u.bio}),Object(O.jsxs)(g.a,{xs:"auto",children:[Object(O.jsx)(S.a,{className:"User-stats-icons",size:20}),null!==(r=null===u||void 0===u||null===(s=u.followers)||void 0===s?void 0:s.totalCount)&&void 0!==r?r:0," \xb7 ",null!==(o=null===u||void 0===u||null===(i=u.following)||void 0===i?void 0:i.totalCount)&&void 0!==o?o:0," following \xb7 ",Object(O.jsx)("a",{style:{padding:"2px"}}),Object(O.jsx)(y.a,{className:"User-stats-icons",size:20}),null!==(c=null===u||void 0===u||null===(l=u.starredRepositories)||void 0===l?void 0:l.totalCount)&&void 0!==c?c:0]}),Object(O.jsxs)(g.a,{xs:"auto",children:[Object(O.jsx)(U.a,{className:"User-stats-icons",size:(null===u||void 0===u?void 0:u.location)?20:0}),null===u||void 0===u?void 0:u.location]}),Object(O.jsxs)(g.a,{xs:"auto",children:[Object(O.jsx)(w.a,{className:"User-stats-icons",size:(null===u||void 0===u?void 0:u.websiteUrl)?20:0}),Object(O.jsx)("a",{className:"User-link",href:null===u||void 0===u?void 0:u.websiteUrl,children:null===u||void 0===u?void 0:u.websiteUrl})]})]})]})},null!==(n=null===u||void 0===u?void 0:u.id)&&void 0!==n?n:Object(z.a)())}))}),Object(O.jsx)(E,{hasNextPage:k,hasPreviousPage:A,onNextPage:function(){return d(K)},onPreviousPage:function(){return h(F)}})]})},D="",T=function(e){Object(h.a)(t,e);var n=Object(j.a)(t);function t(e){var a;return Object(u.a)(this,t),(a=n.call(this,e)).onChange=function(e){D=e.target.value},a.onClick=function(){a.resetState()},a.onKeyDown=function(e){"Enter"===e.key&&a.resetState()},a.resetState=function(){a.setState({afterCursor:null}),a.setState({beforeCursor:null}),a.setState({searchText:D})},a.onNextPage=function(e){a.setState({afterCursor:e}),a.setState({beforeCursor:null})},a.onPreviousPage=function(e){a.setState({afterCursor:null}),a.setState({beforeCursor:e})},a.state={searchText:"",afterCursor:null,beforeCursor:null},a}return Object(d.a)(t,[{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(p,{value:D.trim(),onChange:this.onChange,onClick:this.onClick,onKeyDown:this.onKeyDown}),Object(O.jsx)(q,{searchQuery:this.state.searchText,after:this.state.afterCursor,before:this.state.beforeCursor,onNextPage:this.onNextPage,onPreviousPage:this.onPreviousPage})]})}}]),t}(i.a.Component);var G=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(T,{})})},J=t(98),B=t.n(J),H=t(327),W=t(329),V=t(326),X=new H.a({uri:"https://api.github.com/graphql",cache:new W.a,headers:{authorization:"bearer ".concat(function(){var e=B.a.AES.decrypt("".concat("U2FsdGVkX19AHARvjNpRmcKOdJKs4yaCU2tm1NK3oNEAsvmjo3SA0W71U8dDWzWphzRUtArGHCmht1i8VQGnxA=="),"a-key-to-use");return JSON.parse(e.toString(B.a.enc.Utf8))}())}});l.a.render(Object(O.jsx)(V.a,{client:X,children:Object(O.jsx)(G,{})}),document.getElementById("root"))}},[[305,1,2]]]);
//# sourceMappingURL=main.167eed34.chunk.js.map