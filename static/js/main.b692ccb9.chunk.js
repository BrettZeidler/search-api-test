(this["webpackJsonpsearch-api-test"]=this["webpackJsonpsearch-api-test"]||[]).push([[0],{54:function(e,n,t){},55:function(e,n,t){},56:function(e,n,t){},64:function(e,n,t){"use strict";t.r(n);var a,s,r,o=t(1),i=t.n(o),c=t(43),l=t.n(c),u=(t(54),t(55),t(56),t(24)),d=t(25),h=t(30),j=t(29),b=t(44),v=t(49),O=t(39),x=t(23),g=t(14),f=t(3),p=function(e){Object(h.a)(t,e);var n=Object(j.a)(t);function t(e){var a;return Object(u.a)(this,t),(a=n.call(this,e)).onChange=function(e){a.setState({searchText:e.target.value}),a.props.onChange(e)},a.state={searchText:""},a}return Object(d.a)(t,[{key:"render",value:function(){return Object(f.jsxs)(b.a,{className:"App-header",children:[Object(f.jsx)(g.a,{children:Object(f.jsx)("h1",{children:"Search GitHub Users"})}),Object(f.jsx)(g.a,{children:Object(f.jsxs)(O.a,{className:"mb-3",children:[Object(f.jsx)(v.a,{className:"SearchInput-dark","aria-label":"Search users","aria-describedby":"Search users",value:this.state.value,placeholder:"Search users",onChange:this.onChange,onKeyDown:this.props.onKeyDown},"userSearchBar"),Object(f.jsx)(O.a.Append,{children:Object(f.jsx)(x.a,{className:"SearchButton-dark",variant:"outline-light",onClick:this.props.onClick,children:"Search"})})]})})]})}}]),t}(i.a.Component),C=t(36),P=t(47),m=t(38),S=t(46),N=t(76),y=t(77),U=t(78),w=t(79),k=t(80),E=t(81),T=t(90),R=t(89),_=t(31),I=t(87),A=Object(I.a)(a||(a=Object(_.a)(["\n    fragment UserFields on User {\n        avatarUrl\n        bio\n        id\n        location\n        login\n        name\n        url\n        websiteUrl\n        followers {\n            totalCount\n        }\n        following {\n            totalCount\n        }\n        starredRepositories {\n            totalCount\n        }\n    }\n"]))),D=Object(I.a)(s||(s=Object(_.a)(["\n    ","\n    query($searchQuery:String!, $after:String) {\n        search(query: $searchQuery, after: $after, type: USER, first: 10) {\n            pageInfo {\n                endCursor\n                startCursor\n                hasNextPage\n                hasPreviousPage\n            }\n            userCount\n            edges {\n                node {\n                    ...UserFields\n                }\n            }\n        }\n    }\n"])),A),F=Object(I.a)(r||(r=Object(_.a)(["\n    ","\n    query($searchQuery:String!, $before:String) {\n        search(query: $searchQuery, before: $before, type: USER, last: 10) {\n            pageInfo {\n                endCursor\n                startCursor\n                hasNextPage\n                hasPreviousPage\n            }\n            userCount\n            edges {\n                node {\n                    ...UserFields\n                }\n            }\n        }\n    }\n"])),A);var K=function(e){var n=e.hasNextPage,t=e.hasPreviousPage,a=e.onNextPage,s=e.onPreviousPage;return Object(f.jsxs)("div",{className:"Pagination-buttons",children:[t?Object(f.jsx)(x.a,{className:"Pagination-button",onClick:s,children:Object(f.jsx)(k.a,{size:24})}):Object(f.jsx)(f.Fragment,{}),n?Object(f.jsx)(x.a,{className:"Pagination-button",onClick:a,children:Object(f.jsx)(E.a,{size:24})}):Object(f.jsx)(f.Fragment,{})]})},$=function(e){var n,t,a,s,r,o,i,c=e.searchQuery,l=e.after,u=e.before,d=e.onNextPage,h=e.onPreviousPage,j=Object(R.a)(null===u?D:F,{variables:{searchQuery:c,after:l,before:u}}),b=j.loading,v=j.error,O=j.data;if(b)return Object(f.jsx)(S.a,{className:"Spinner-custom",animation:"border"});if(v)return Object(f.jsx)("p",{children:v});var x=O.search.edges,p=null!==(n=O.search.userCount)&&void 0!==n?n:0,k=null!==(t=null===(a=O.search.pageInfo)||void 0===a?void 0:a.hasNextPage)&&void 0!==t&&t,E=null!==(s=null===(r=O.search.pageInfo)||void 0===r?void 0:r.hasPreviousPage)&&void 0!==s&&s,_=null===(o=O.search.pageInfo)||void 0===o?void 0:o.startCursor,I=null===(i=O.search.pageInfo)||void 0===i?void 0:i.endCursor;return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("h3",{className:"App-paragraph",children:""===c?"Enter a query to search over 70 million users":Object(f.jsxs)(f.Fragment,{children:["Found ",p," result",1===p?"":"s"," for '",c,"'"]})})}),Object(f.jsx)(m.a,{children:x.map((function(e){var n,t,a,s,r,o,i,c,l,u=e.node;return Object(f.jsx)(m.a.Item,{className:"User-Results",children:Object(f.jsxs)(g.a,{children:[Object(f.jsx)(C.a,{xs:"auto",children:Object(f.jsx)(P.a,{width:128,height:128,src:null===u||void 0===u?void 0:u.avatarUrl,roundedCircle:!0})}),Object(f.jsxs)(C.a,{children:[Object(f.jsxs)(g.a,{xs:"auto",children:[Object(f.jsx)("a",{className:"User-link",href:null===u||void 0===u?void 0:u.url,children:null!==(t=null===u||void 0===u?void 0:u.name)&&void 0!==t?t:"--"})," \xb7 ",null!==(a=null===u||void 0===u?void 0:u.login)&&void 0!==a?a:"--"]}),Object(f.jsx)(g.a,{children:null===u||void 0===u?void 0:u.bio}),Object(f.jsxs)(g.a,{xs:"auto",children:[Object(f.jsx)(N.a,{className:"User-stats-icons",size:20}),null!==(s=null===u||void 0===u||null===(r=u.followers)||void 0===r?void 0:r.totalCount)&&void 0!==s?s:0," \xb7 ",null!==(o=null===u||void 0===u||null===(i=u.following)||void 0===i?void 0:i.totalCount)&&void 0!==o?o:0," following \xb7 ",Object(f.jsx)("a",{style:{padding:"2px"}}),Object(f.jsx)(y.a,{className:"User-stats-icons",size:20}),null!==(c=null===u||void 0===u||null===(l=u.starredRepositories)||void 0===l?void 0:l.totalCount)&&void 0!==c?c:0]}),Object(f.jsxs)(g.a,{xs:"auto",children:[Object(f.jsx)(U.a,{className:"User-stats-icons",size:(null===u||void 0===u?void 0:u.location)?20:0}),null===u||void 0===u?void 0:u.location]}),Object(f.jsxs)(g.a,{xs:"auto",children:[Object(f.jsx)(w.a,{className:"User-stats-icons",size:(null===u||void 0===u?void 0:u.websiteUrl)?20:0}),Object(f.jsx)("a",{className:"User-link",href:null===u||void 0===u?void 0:u.websiteUrl,children:null===u||void 0===u?void 0:u.websiteUrl})]})]})]})},null!==(n=null===u||void 0===u?void 0:u.id)&&void 0!==n?n:Object(T.a)())}))}),Object(f.jsx)(K,{hasNextPage:k,hasPreviousPage:E,onNextPage:function(){return d(I)},onPreviousPage:function(){return h(_)}})]})},z="",Q=function(e){Object(h.a)(t,e);var n=Object(j.a)(t);function t(e){var a;return Object(u.a)(this,t),(a=n.call(this,e)).onChange=function(e){z=e.target.value},a.onClick=function(){a.resetState()},a.onKeyDown=function(e){"Enter"===e.key&&a.resetState()},a.resetState=function(){a.setState({afterCursor:null}),a.setState({beforeCursor:null}),a.setState({searchText:z})},a.onNextPage=function(e){a.setState({afterCursor:e}),a.setState({beforeCursor:null})},a.onPreviousPage=function(e){a.setState({afterCursor:null}),a.setState({beforeCursor:e})},a.state={searchText:"",afterCursor:null,beforeCursor:null},a}return Object(d.a)(t,[{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(p,{value:z.trim(),onChange:this.onChange,onClick:this.onClick,onKeyDown:this.onKeyDown}),Object(f.jsx)($,{searchQuery:this.state.searchText,after:this.state.afterCursor,before:this.state.beforeCursor,onNextPage:this.onNextPage,onPreviousPage:this.onPreviousPage})]})}}]),t}(i.a.Component);var q=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(Q,{})})},B=t(86),H=t(88),W=t(85),J=new B.a({uri:"https://api.github.com/graphql",cache:new H.a,headers:{authorization:"bearer ".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/search-api-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BEARER_TOKEN)}});l.a.render(Object(f.jsx)(W.a,{client:J,children:Object(f.jsx)(q,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.b692ccb9.chunk.js.map