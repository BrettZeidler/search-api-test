(this["webpackJsonpsearch-api-test"]=this["webpackJsonpsearch-api-test"]||[]).push([[0],{54:function(e,n,t){},55:function(e,n,t){},56:function(e,n,t){},64:function(e,n,t){"use strict";t.r(n);var a,s,r,o=t(1),i=t.n(o),c=t(43),l=t.n(c),u=(t(54),t(55),t(56),t(24)),d=t(25),h=t(30),j=t(29),b=t(44),v=t(49),x=t(39),g=t(23),f=t(14),O=t(3),p=function(e){Object(h.a)(t,e);var n=Object(j.a)(t);function t(e){var a;return Object(u.a)(this,t),(a=n.call(this,e)).onChange=function(e){a.setState({searchText:e.target.value}),a.props.onChange(e)},a.state={searchText:""},a}return Object(d.a)(t,[{key:"render",value:function(){return Object(O.jsxs)(b.a,{className:"App-header",children:[Object(O.jsx)(f.a,{children:Object(O.jsx)("h1",{children:"Search GitHub Users"})}),Object(O.jsx)(f.a,{children:Object(O.jsxs)(x.a,{className:"mb-3",children:[Object(O.jsx)(v.a,{className:"SearchInput-dark","aria-label":"Search users","aria-describedby":"Search users",value:this.state.value,placeholder:"Search users",onChange:this.onChange,onKeyDown:this.props.onKeyDown},"userSearchBar"),Object(O.jsx)(x.a.Append,{children:Object(O.jsx)(g.a,{className:"SearchButton-dark",variant:"outline-light",onClick:this.props.onClick,children:"Search"})})]})})]})}}]),t}(i.a.Component),C=t(36),P=t(47),m=t(38),N=t(46),S=t(76),y=t(77),U=t(78),w=t(79),k=t(80),I=t(81),$=t(90),z=t(89),F=t(31),Q=t(87),q=Object(Q.a)(a||(a=Object(F.a)(["\n    fragment UserFields on User {\n        avatarUrl\n        bio\n        id\n        location\n        login\n        name\n        url\n        websiteUrl\n        followers {\n            totalCount\n        }\n        following {\n            totalCount\n        }\n        starredRepositories {\n            totalCount\n        }\n    }\n"]))),D=Object(Q.a)(s||(s=Object(F.a)(["\n    ","\n    query($searchQuery:String!, $after:String) {\n        search(query: $searchQuery, after: $after, type: USER, first: 10) {\n            pageInfo {\n                endCursor\n                startCursor\n                hasNextPage\n                hasPreviousPage\n            }\n            userCount\n            edges {\n                node {\n                    ...UserFields\n                }\n            }\n        }\n    }\n"])),q),E=Object(Q.a)(r||(r=Object(F.a)(["\n    ","\n    query($searchQuery:String!, $before:String) {\n        search(query: $searchQuery, before: $before, type: USER, last: 10) {\n            pageInfo {\n                endCursor\n                startCursor\n                hasNextPage\n                hasPreviousPage\n            }\n            userCount\n            edges {\n                node {\n                    ...UserFields\n                }\n            }\n        }\n    }\n"])),q);var K=function(e){var n=e.hasNextPage,t=e.hasPreviousPage,a=e.onNextPage,s=e.onPreviousPage;return Object(O.jsxs)("div",{className:"Pagination-buttons",children:[t?Object(O.jsx)(g.a,{className:"Pagination-button",onClick:s,children:Object(O.jsx)(k.a,{size:24})}):Object(O.jsx)(O.Fragment,{}),n?Object(O.jsx)(g.a,{className:"Pagination-button",onClick:a,children:Object(O.jsx)(I.a,{size:24})}):Object(O.jsx)(O.Fragment,{})]})},R=function(e){var n,t,a,s,r,o,i,c=e.searchQuery,l=e.after,u=e.before,d=e.onNextPage,h=e.onPreviousPage,j=Object(z.a)(null===u?D:E,{variables:{searchQuery:c,after:l,before:u}}),b=j.loading,v=j.error,x=j.data;if(b)return Object(O.jsx)(N.a,{className:"Spinner-custom",animation:"border"});if(v)return Object(O.jsx)("p",{children:v});var g=x.search.edges,p=null!==(n=x.search.userCount)&&void 0!==n?n:0,k=null!==(t=null===(a=x.search.pageInfo)||void 0===a?void 0:a.hasNextPage)&&void 0!==t&&t,I=null!==(s=null===(r=x.search.pageInfo)||void 0===r?void 0:r.hasPreviousPage)&&void 0!==s&&s,F=null===(o=x.search.pageInfo)||void 0===o?void 0:o.startCursor,Q=null===(i=x.search.pageInfo)||void 0===i?void 0:i.endCursor;return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:Object(O.jsx)("h3",{className:"App-paragraph",children:""===c?"Enter a query to search over 70 million users":Object(O.jsxs)(O.Fragment,{children:["Found ",p," result",1===p?"":"s"," for '",c,"'"]})})}),Object(O.jsx)(m.a,{children:g.map((function(e){var n,t,a,s,r,o,i,c,l,u=e.node;return Object(O.jsx)(m.a.Item,{className:"User-Results",children:Object(O.jsxs)(f.a,{children:[Object(O.jsx)(C.a,{xs:"auto",children:Object(O.jsx)(P.a,{width:128,height:128,src:null===u||void 0===u?void 0:u.avatarUrl,roundedCircle:!0})}),Object(O.jsxs)(C.a,{children:[Object(O.jsxs)(f.a,{xs:"auto",children:[Object(O.jsx)("a",{className:"User-link",href:null===u||void 0===u?void 0:u.url,children:null!==(t=null===u||void 0===u?void 0:u.name)&&void 0!==t?t:"--"})," \xb7 ",null!==(a=null===u||void 0===u?void 0:u.login)&&void 0!==a?a:"--"]}),Object(O.jsx)(f.a,{children:null===u||void 0===u?void 0:u.bio}),Object(O.jsxs)(f.a,{xs:"auto",children:[Object(O.jsx)(S.a,{className:"User-stats-icons",size:20}),null!==(s=null===u||void 0===u||null===(r=u.followers)||void 0===r?void 0:r.totalCount)&&void 0!==s?s:0," \xb7 ",null!==(o=null===u||void 0===u||null===(i=u.following)||void 0===i?void 0:i.totalCount)&&void 0!==o?o:0," following \xb7 ",Object(O.jsx)("a",{style:{padding:"2px"}}),Object(O.jsx)(y.a,{className:"User-stats-icons",size:20}),null!==(c=null===u||void 0===u||null===(l=u.starredRepositories)||void 0===l?void 0:l.totalCount)&&void 0!==c?c:0]}),Object(O.jsxs)(f.a,{xs:"auto",children:[Object(O.jsx)(U.a,{className:"User-stats-icons",size:(null===u||void 0===u?void 0:u.location)?20:0}),null===u||void 0===u?void 0:u.location]}),Object(O.jsxs)(f.a,{xs:"auto",children:[Object(O.jsx)(w.a,{className:"User-stats-icons",size:(null===u||void 0===u?void 0:u.websiteUrl)?20:0}),Object(O.jsx)("a",{className:"User-link",href:null===u||void 0===u?void 0:u.websiteUrl,children:null===u||void 0===u?void 0:u.websiteUrl})]})]})]})},null!==(n=null===u||void 0===u?void 0:u.id)&&void 0!==n?n:Object($.a)())}))}),Object(O.jsx)(K,{hasNextPage:k,hasPreviousPage:I,onNextPage:function(){return d(Q)},onPreviousPage:function(){return h(F)}})]})},T="",A=function(e){Object(h.a)(t,e);var n=Object(j.a)(t);function t(e){var a;return Object(u.a)(this,t),(a=n.call(this,e)).onChange=function(e){T=e.target.value},a.onClick=function(){a.resetState()},a.onKeyDown=function(e){"Enter"===e.key&&a.resetState()},a.resetState=function(){a.setState({afterCursor:null}),a.setState({beforeCursor:null}),a.setState({searchText:T})},a.onNextPage=function(e){a.setState({afterCursor:e}),a.setState({beforeCursor:null})},a.onPreviousPage=function(e){a.setState({afterCursor:null}),a.setState({beforeCursor:e})},a.state={searchText:"",afterCursor:null,beforeCursor:null},a}return Object(d.a)(t,[{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(p,{value:T.trim(),onChange:this.onChange,onClick:this.onClick,onKeyDown:this.onKeyDown}),Object(O.jsx)(R,{searchQuery:this.state.searchText,after:this.state.afterCursor,before:this.state.beforeCursor,onNextPage:this.onNextPage,onPreviousPage:this.onPreviousPage})]})}}]),t}(i.a.Component);var B=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(A,{})})},J=t(86),G=t(88),H=t(85),L=new J.a({uri:"https://api.github.com/graphql",cache:new G.a,headers:{authorization:"bearer ".concat("")}});l.a.render(Object(O.jsx)(H.a,{client:L,children:Object(O.jsx)(B,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.a48f7c25.chunk.js.map